<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.1) on Sat Nov 03 12:43:34 GMT 2018 -->
<title>StampedLock (Quasar 0.8.0)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2018-11-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StampedLock (Quasar 0.8.0)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">co.paralleluniverse.strands.concurrent</a></div>
<h2 title="Class StampedLock" class="title">Class StampedLock</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>co.paralleluniverse.strands.concurrent.StampedLock</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Serializable</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">StampedLock</span>
extends java.lang.Object
implements java.io.Serializable</pre>
<div class="block">A capability-based lock with three modes for controlling read/write
 access. The state of a StampedLock consists of a version and mode.
 Lock acquisition methods return a stamp that represents and
 controls access with respect to a lock state; "try" versions of
 these methods may instead return the special value zero to
 represent failure to acquire access. Lock release and conversion
 methods require stamps as arguments, and fail if they do not match
 the state of the lock. The three modes are:

 <ul>

 <li><b>Writing.</b> Method <a href="#writeLock()"><code>writeLock()</code></a> possibly blocks
 waiting for exclusive access, returning a stamp that can be used
 in method <a href="#unlockWrite(long)"><code>unlockWrite(long)</code></a> to release the lock. Untimed and
 timed versions of <code>tryWriteLock</code> are also provided. When
 the lock is held in write mode, no read locks may be obtained,
 and all optimistic read validations will fail. </li>

 <li><b>Reading.</b> Method <a href="#readLock()"><code>readLock()</code></a> possibly blocks
 waiting for non-exclusive access, returning a stamp that can be
 used in method <a href="#unlockRead(long)"><code>unlockRead(long)</code></a> to release the lock. Untimed
 and timed versions of <code>tryReadLock</code> are also provided. </li>

 <li><b>Optimistic Reading.</b> Method <a href="#tryOptimisticRead()"><code>tryOptimisticRead()</code></a>
 returns a non-zero stamp only if the lock is not currently held
 in write mode. Method <a href="#validate(long)"><code>validate(long)</code></a> returns true if the lock
 has not been acquired in write mode since obtaining a given
 stamp. This mode can be thought of as an extremely weak version
 of a read-lock, that can be broken by a writer at any time. The
 use of optimistic mode for short read-only code segments often
 reduces contention and improves throughput. However, its use is
 inherently fragile. Optimistic read sections should only read
 fields and hold them in local variables for later use after
 validation. Fields read while in optimistic mode may be wildly
 inconsistent, so usage applies only when you are familiar enough
 with data representations to check consistency and/or repeatedly
 invoke method <code>validate()</code>. For example, such steps are
 typically required when first reading an object or array
 reference, and then accessing one of its fields, elements or
 methods. </li>

 </ul>

 <p>This class also supports methods that conditionally provide
 conversions across the three modes. For example, method <a href="#tryConvertToWriteLock(long)"><code>tryConvertToWriteLock(long)</code></a> attempts to "upgrade" a mode, returning
 a valid write stamp if (1) already in writing mode (2) in reading
 mode and there are no other readers or (3) in optimistic mode and
 the lock is available. The forms of these methods are designed to
 help reduce some of the code bloat that otherwise occurs in
 retry-based designs.

 <p>StampedLocks are designed for use as internal utilities in the
 development of strand-safe components. Their use relies on
 knowledge of the internal properties of the data, objects, and
 methods they are protecting. They are not reentrant, so locked
 bodies should not call other unknown methods that may try to
 re-acquire locks (although you may pass a stamp to other methods
 that can use or convert it). The use of read lock modes relies on
 the associated code sections being side-effect-free. Unvalidated
 optimistic read sections cannot call methods that are not known to
 tolerate potential inconsistencies. Stamps use finite
 representations, and are not cryptographically secure (i.e., a
 valid stamp may be guessable). Stamp values may recycle after (no
 sooner than) one year of continuous operation. A stamp held without
 use or validation for longer than this period may fail to validate
 correctly. StampedLocks are serializable, but always deserialize
 into initial unlocked state, so they are not useful for remote
 locking.

 <p>The scheduling policy of StampedLock does not consistently
 prefer readers over writers or vice versa. All "try" methods are
 best-effort and do not necessarily conform to any scheduling or
 fairness policy. A zero return from any "try" method for acquiring
 or converting locks does not carry any information about the state
 of the lock; a subsequent invocation may succeed.

 <p>Because it supports coordinated usage across multiple lock
 modes, this class does not directly implement the <code>Lock</code> or
 <code>ReadWriteLock</code> interfaces. However, a StampedLock may be
 viewed <a href="#asReadLock()"><code>asReadLock()</code></a>, <a href="#asWriteLock()"><code>asWriteLock()</code></a>, or <a href="#asReadWriteLock()"><code>asReadWriteLock()</code></a> in applications requiring only the associated
 set of functionality.

 <p><b>Sample Usage.</b> The following illustrates some usage idioms
 in a class that maintains simple two-dimensional points. The sample
 code illustrates some try/catch conventions even though they are
 not strictly needed here because no exceptions can occur in their
 bodies.<br>

 <pre><code>
 class Point {
   private double x, y;
   private final StampedLock sl = new StampedLock();

   void move(double deltaX, double deltaY) { // an exclusively locked method
     long stamp = sl.writeLock();
     try {
       x += deltaX;
       y += deltaY;
     } finally {
       sl.unlockWrite(stamp);
     }
   }

   double distanceFromOriginV1() { // A read-only method
     long stamp;
     if ((stamp = sl.tryOptimisticRead()) != 0L) { // optimistic
       double currentX = x;
       double currentY = y;
       if (sl.validate(stamp))
         return Math.sqrt(currentX * currentX + currentY * currentY);
     }
     stamp = sl.readLock(); // fall back to read lock
     try {
       double currentX = x;
       double currentY = y;
         return Math.sqrt(currentX * currentX + currentY * currentY);
     } finally {
       sl.unlockRead(stamp);
     }
   }

   double distanceFromOriginV2() { // combines code paths
     double currentX = 0.0, currentY = 0.0;
     for (long stamp = sl.tryOptimisticRead(); ; stamp = sl.readLock()) {
       try {
         currentX = x;
         currentY = y;
       } finally {
         if (sl.tryConvertToOptimisticRead(stamp) != 0L) // unlock or validate
           break;
       }
     }
     return Math.sqrt(currentX * currentX + currentY * currentY);
   }

   void moveIfAtOrigin(double newX, double newY) { // upgrade
     // Could instead start with optimistic, not read mode
     long stamp = sl.readLock();
     try {
       while (x == 0.0 &amp;&amp; y == 0.0) {
         long ws = sl.tryConvertToWriteLock(stamp);
         if (ws != 0L) {
           stamp = ws;
           x = newX;
           y = newY;
           break;
         }
         else {
           sl.unlockRead(stamp);
           stamp = sl.writeLock();
         }
       }
     } finally {
       sl.unlock(stamp);
     }
 }
 }</code></pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../serialized-form.html#co.paralleluniverse.strands.concurrent.StampedLock">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">StampedLock</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a new lock, initially in unlocked state.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.util.concurrent.locks.Lock</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asReadLock()">asReadLock</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a plain <code>Lock</code> view of this StampedLock in which
 the <code>Lock.lock()</code> method is mapped to <a href="#readLock()"><code>readLock()</code></a>,
 and similarly for other methods.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.locks.ReadWriteLock</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asReadWriteLock()">asReadWriteLock</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a <code>ReadWriteLock</code> view of this StampedLock in
 which the <code>ReadWriteLock.readLock()</code> method is mapped to
 <a href="#asReadLock()"><code>asReadLock()</code></a>, and <code>ReadWriteLock.writeLock()</code> to
 <a href="#asWriteLock()"><code>asWriteLock()</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.concurrent.locks.Lock</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asWriteLock()">asWriteLock</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a plain <code>Lock</code> view of this StampedLock in which
 the <code>Lock.lock()</code> method is mapped to <a href="#writeLock()"><code>writeLock()</code></a>,
 and similarly for other methods.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isReadLocked()">isReadLocked</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if the lock is currently held non-exclusively.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isWriteLocked()">isWriteLocked</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if the lock is currently held exclusively.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readLock()">readLock</a></span>()</code></th>
<td class="colLast">
<div class="block">Non-exclusively acquires the lock, blocking if necessary
 until available.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readLockInterruptibly()">readLockInterruptibly</a></span>()</code></th>
<td class="colLast">
<div class="block">Non-exclusively acquires the lock, blocking if necessary
 until available or the current strand is interrupted.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryConvertToOptimisticRead(long)">tryConvertToOptimisticRead</a></span>&#8203;(long&nbsp;stamp)</code></th>
<td class="colLast">
<div class="block">If the lock state matches the given stamp then, if the stamp
 represents holding a lock, releases it and returns an
 observation stamp.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryConvertToReadLock(long)">tryConvertToReadLock</a></span>&#8203;(long&nbsp;stamp)</code></th>
<td class="colLast">
<div class="block">If the lock state matches the given stamp, performs one of
 the following actions.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryConvertToWriteLock(long)">tryConvertToWriteLock</a></span>&#8203;(long&nbsp;stamp)</code></th>
<td class="colLast">
<div class="block">If the lock state matches the given stamp, performs one of
 the following actions.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryOptimisticRead()">tryOptimisticRead</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a stamp that can later be validated, or zero
 if exclusively locked.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryReadLock()">tryReadLock</a></span>()</code></th>
<td class="colLast">
<div class="block">Non-exclusively acquires the lock if it is immediately available.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryReadLock(long,java.util.concurrent.TimeUnit)">tryReadLock</a></span>&#8203;(long&nbsp;time,
           java.util.concurrent.TimeUnit&nbsp;unit)</code></th>
<td class="colLast">
<div class="block">Non-exclusively acquires the lock if it is available within the
 given time and the current strand has not been interrupted.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryUnlockRead()">tryUnlockRead</a></span>()</code></th>
<td class="colLast">
<div class="block">Releases one hold of the read lock if it is held, without
 requiring a stamp value.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryUnlockWrite()">tryUnlockWrite</a></span>()</code></th>
<td class="colLast">
<div class="block">Releases the write lock if it is held, without requiring a
 stamp value.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryWriteLock()">tryWriteLock</a></span>()</code></th>
<td class="colLast">
<div class="block">Exclusively acquires the lock if it is immediately available.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryWriteLock(long,java.util.concurrent.TimeUnit)">tryWriteLock</a></span>&#8203;(long&nbsp;time,
            java.util.concurrent.TimeUnit&nbsp;unit)</code></th>
<td class="colLast">
<div class="block">Exclusively acquires the lock if it is available within the
 given time and the current strand has not been interrupted.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unlock(long)">unlock</a></span>&#8203;(long&nbsp;stamp)</code></th>
<td class="colLast">
<div class="block">If the lock state matches the given stamp, releases the
 corresponding mode of the lock.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unlockRead(long)">unlockRead</a></span>&#8203;(long&nbsp;stamp)</code></th>
<td class="colLast">
<div class="block">If the lock state matches the given stamp, releases the
 non-exclusive lock.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unlockWrite(long)">unlockWrite</a></span>&#8203;(long&nbsp;stamp)</code></th>
<td class="colLast">
<div class="block">If the lock state matches the given stamp, releases the
 exclusive lock.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#validate(long)">validate</a></span>&#8203;(long&nbsp;stamp)</code></th>
<td class="colLast">
<div class="block">Returns true if the lock has not been exclusively acquired
 since issuance of the given stamp.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeLock()">writeLock</a></span>()</code></th>
<td class="colLast">
<div class="block">Exclusively acquires the lock, blocking if necessary
 until available.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeLockInterruptibly()">writeLockInterruptibly</a></span>()</code></th>
<td class="colLast">
<div class="block">Exclusively acquires the lock, blocking if necessary
 until available or the current strand is interrupted.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StampedLock</h4>
<pre>public&nbsp;StampedLock()</pre>
<div class="block">Creates a new lock, initially in unlocked state.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="writeLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLock</h4>
<pre class="methodSignature"><a href="../../fibers/Suspendable.html" title="annotation in co.paralleluniverse.fibers">@Suspendable</a>
public&nbsp;long&nbsp;writeLock()</pre>
<div class="block">Exclusively acquires the lock, blocking if necessary
 until available.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stamp that can be used to unlock or convert mode</dd>
</dl>
</li>
</ul>
<a id="tryWriteLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryWriteLock</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;tryWriteLock()</pre>
<div class="block">Exclusively acquires the lock if it is immediately available.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stamp that can be used to unlock or convert mode,
 or zero if the lock is not available</dd>
</dl>
</li>
</ul>
<a id="tryWriteLock(long,java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryWriteLock</h4>
<pre class="methodSignature"><a href="../../fibers/Suspendable.html" title="annotation in co.paralleluniverse.fibers">@Suspendable</a>
public&nbsp;long&nbsp;tryWriteLock&#8203;(long&nbsp;time,
                         java.util.concurrent.TimeUnit&nbsp;unit)
                  throws java.lang.InterruptedException</pre>
<div class="block">Exclusively acquires the lock if it is available within the
 given time and the current strand has not been interrupted.
 Behavior under timeout and interruption matches that specified
 for method <code>Lock.tryLock(long,TimeUnit)</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stamp that can be used to unlock or convert mode,
 or zero if the lock is not available</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the current strand is interrupted
 before acquiring the lock</dd>
</dl>
</li>
</ul>
<a id="writeLockInterruptibly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeLockInterruptibly</h4>
<pre class="methodSignature"><a href="../../fibers/Suspendable.html" title="annotation in co.paralleluniverse.fibers">@Suspendable</a>
public&nbsp;long&nbsp;writeLockInterruptibly()
                            throws java.lang.InterruptedException</pre>
<div class="block">Exclusively acquires the lock, blocking if necessary
 until available or the current strand is interrupted.
 Behavior under interruption matches that specified
 for method <code>Lock.lockInterruptibly()</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stamp that can be used to unlock or convert mode</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the current strand is interrupted
 before acquiring the lock</dd>
</dl>
</li>
</ul>
<a id="readLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLock</h4>
<pre class="methodSignature"><a href="../../fibers/Suspendable.html" title="annotation in co.paralleluniverse.fibers">@Suspendable</a>
public&nbsp;long&nbsp;readLock()</pre>
<div class="block">Non-exclusively acquires the lock, blocking if necessary
 until available.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stamp that can be used to unlock or convert mode</dd>
</dl>
</li>
</ul>
<a id="tryReadLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryReadLock</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;tryReadLock()</pre>
<div class="block">Non-exclusively acquires the lock if it is immediately available.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stamp that can be used to unlock or convert mode,
 or zero if the lock is not available</dd>
</dl>
</li>
</ul>
<a id="tryReadLock(long,java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryReadLock</h4>
<pre class="methodSignature"><a href="../../fibers/Suspendable.html" title="annotation in co.paralleluniverse.fibers">@Suspendable</a>
public&nbsp;long&nbsp;tryReadLock&#8203;(long&nbsp;time,
                        java.util.concurrent.TimeUnit&nbsp;unit)
                 throws java.lang.InterruptedException</pre>
<div class="block">Non-exclusively acquires the lock if it is available within the
 given time and the current strand has not been interrupted.
 Behavior under timeout and interruption matches that specified
 for method <code>Lock.tryLock(long,TimeUnit)</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stamp that can be used to unlock or convert mode,
 or zero if the lock is not available</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the current strand is interrupted
 before acquiring the lock</dd>
</dl>
</li>
</ul>
<a id="readLockInterruptibly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLockInterruptibly</h4>
<pre class="methodSignature"><a href="../../fibers/Suspendable.html" title="annotation in co.paralleluniverse.fibers">@Suspendable</a>
public&nbsp;long&nbsp;readLockInterruptibly()
                           throws java.lang.InterruptedException</pre>
<div class="block">Non-exclusively acquires the lock, blocking if necessary
 until available or the current strand is interrupted.
 Behavior under interruption matches that specified
 for method <code>Lock.lockInterruptibly()</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stamp that can be used to unlock or convert mode</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the current strand is interrupted
 before acquiring the lock</dd>
</dl>
</li>
</ul>
<a id="tryOptimisticRead()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryOptimisticRead</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;tryOptimisticRead()</pre>
<div class="block">Returns a stamp that can later be validated, or zero
 if exclusively locked.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stamp, or zero if exclusively locked</dd>
</dl>
</li>
</ul>
<a id="validate(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;validate&#8203;(long&nbsp;stamp)</pre>
<div class="block">Returns true if the lock has not been exclusively acquired
 since issuance of the given stamp. Always returns false if the
 stamp is zero. Always returns true if the stamp represents a
 currently held lock. Invoking this method with a value not
 obtained from <a href="#tryOptimisticRead()"><code>tryOptimisticRead()</code></a> or a locking method
 for this lock has no defined effect or result.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock has not been exclusively acquired
 since issuance of the given stamp; else false</dd>
</dl>
</li>
</ul>
<a id="unlockWrite(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockWrite</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;unlockWrite&#8203;(long&nbsp;stamp)</pre>
<div class="block">If the lock state matches the given stamp, releases the
 exclusive lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stamp</code> - a stamp returned by a write-lock operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalMonitorStateException</code> - if the stamp does
 not match the current state of this lock</dd>
</dl>
</li>
</ul>
<a id="unlockRead(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockRead</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;unlockRead&#8203;(long&nbsp;stamp)</pre>
<div class="block">If the lock state matches the given stamp, releases the
 non-exclusive lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stamp</code> - a stamp returned by a read-lock operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalMonitorStateException</code> - if the stamp does
 not match the current state of this lock</dd>
</dl>
</li>
</ul>
<a id="unlock(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;unlock&#8203;(long&nbsp;stamp)</pre>
<div class="block">If the lock state matches the given stamp, releases the
 corresponding mode of the lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stamp</code> - a stamp returned by a lock operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalMonitorStateException</code> - if the stamp does
 not match the current state of this lock</dd>
</dl>
</li>
</ul>
<a id="tryConvertToWriteLock(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryConvertToWriteLock</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;tryConvertToWriteLock&#8203;(long&nbsp;stamp)</pre>
<div class="block">If the lock state matches the given stamp, performs one of
 the following actions. If the stamp represents holding a write
 lock, returns it. Or, if a read lock, if the write lock is
 available, releases the read lock and returns a write stamp.
 Or, if an optimistic read, returns a write stamp only if
 immediately available. This method returns zero in all other
 cases.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stamp</code> - a stamp</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid write stamp, or zero on failure</dd>
</dl>
</li>
</ul>
<a id="tryConvertToReadLock(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryConvertToReadLock</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;tryConvertToReadLock&#8203;(long&nbsp;stamp)</pre>
<div class="block">If the lock state matches the given stamp, performs one of
 the following actions. If the stamp represents holding a write
 lock, releases it and obtains a read lock. Or, if a read lock,
 returns it. Or, if an optimistic read, acquires a read lock and
 returns a read stamp only if immediately available. This method
 returns zero in all other cases.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stamp</code> - a stamp</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid read stamp, or zero on failure</dd>
</dl>
</li>
</ul>
<a id="tryConvertToOptimisticRead(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryConvertToOptimisticRead</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;tryConvertToOptimisticRead&#8203;(long&nbsp;stamp)</pre>
<div class="block">If the lock state matches the given stamp then, if the stamp
 represents holding a lock, releases it and returns an
 observation stamp. Or, if an optimistic read, returns it if
 validated. This method returns zero in all other cases, and so
 may be useful as a form of "tryUnlock".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stamp</code> - a stamp</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid optimistic read stamp, or zero on failure</dd>
</dl>
</li>
</ul>
<a id="tryUnlockWrite()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryUnlockWrite</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;tryUnlockWrite()</pre>
<div class="block">Releases the write lock if it is held, without requiring a
 stamp value. This method may be useful for recovery after
 errors.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was held, else false</dd>
</dl>
</li>
</ul>
<a id="tryUnlockRead()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryUnlockRead</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;tryUnlockRead()</pre>
<div class="block">Releases one hold of the read lock if it is held, without
 requiring a stamp value. This method may be useful for recovery
 after errors.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the read lock was held, else false</dd>
</dl>
</li>
</ul>
<a id="isWriteLocked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isWriteLocked</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isWriteLocked()</pre>
<div class="block">Returns true if the lock is currently held exclusively.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock is currently held exclusively</dd>
</dl>
</li>
</ul>
<a id="isReadLocked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReadLocked</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isReadLocked()</pre>
<div class="block">Returns true if the lock is currently held non-exclusively.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock is currently held non-exclusively</dd>
</dl>
</li>
</ul>
<a id="asReadLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asReadLock</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.locks.Lock&nbsp;asReadLock()</pre>
<div class="block">Returns a plain <code>Lock</code> view of this StampedLock in which
 the <code>Lock.lock()</code> method is mapped to <a href="#readLock()"><code>readLock()</code></a>,
 and similarly for other methods. The returned Lock does not
 support a <code>Condition</code>; method <code>Lock.newCondition()</code> throws <code>
 UnsupportedOperationException</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the lock</dd>
</dl>
</li>
</ul>
<a id="asWriteLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asWriteLock</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.locks.Lock&nbsp;asWriteLock()</pre>
<div class="block">Returns a plain <code>Lock</code> view of this StampedLock in which
 the <code>Lock.lock()</code> method is mapped to <a href="#writeLock()"><code>writeLock()</code></a>,
 and similarly for other methods. The returned Lock does not
 support a <code>Condition</code>; method <code>Lock.newCondition()</code> throws <code>
 UnsupportedOperationException</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the lock</dd>
</dl>
</li>
</ul>
<a id="asReadWriteLock()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>asReadWriteLock</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.locks.ReadWriteLock&nbsp;asReadWriteLock()</pre>
<div class="block">Returns a <code>ReadWriteLock</code> view of this StampedLock in
 which the <code>ReadWriteLock.readLock()</code> method is mapped to
 <a href="#asReadLock()"><code>asReadLock()</code></a>, and <code>ReadWriteLock.writeLock()</code> to
 <a href="#asWriteLock()"><code>asWriteLock()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the lock</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
